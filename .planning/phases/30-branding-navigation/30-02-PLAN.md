---
phase: 30-branding-navigation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/components/nav-link.tsx
autonomous: true

must_haves:
  truths:
    - "NavLink component shows an active underline indicator when pathname matches"
    - "Home link uses exact match, other links use prefix match"
    - "NavLink is a client component using usePathname()"
  artifacts:
    - path: "apps/web/components/nav-link.tsx"
      provides: "NavLink client component with active state"
      exports: ["NavLink"]
  key_links:
    - from: "apps/web/components/nav-link.tsx"
      to: "next/navigation"
      via: "usePathname hook"
      pattern: "usePathname"
---

<objective>
Create a NavLink component with active page underline indicator.

Purpose: BRAND-04 requires visual active-page indication, BRAND-05 requires a Skills nav button, BRAND-06 requires removing the years-saved display. The NavLink component is the foundation; the actual nav restructuring (adding Skills, removing HeaderStats) happens in plan 30-05 when layout.tsx is wired.
Output: `NavLink` client component ready for use in the layout.
</objective>

<execution_context>
@/home/dev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@apps/web/app/(protected)/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create NavLink client component</name>
  <files>apps/web/components/nav-link.tsx</files>
  <action>
Create `apps/web/components/nav-link.tsx` as a `"use client"` component:

```typescript
"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";

interface NavLinkProps {
  href: string;
  children: React.ReactNode;
}

export function NavLink({ href, children }: NavLinkProps) {
  const pathname = usePathname();
  // Exact match for "/" (Home), prefix match for others to avoid "/" always active
  const isActive = href === "/" ? pathname === "/" : pathname.startsWith(href);

  return (
    <Link
      href={href}
      className={`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium transition ${
        isActive
          ? "border-blue-500 text-blue-600"
          : "border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"
      }`}
    >
      {children}
    </Link>
  );
}
```

Key decisions:
- Use `border-b-2` with `border-blue-500` for active state (visible underline).
- Use `border-transparent` for inactive to maintain consistent height/spacing.
- Exact match on `"/"` to prevent Home being always active (pitfall from research).
- No framer-motion or transition libraries -- Tailwind `transition` is sufficient.
  </action>
  <verify>
Run `cd /home/dev/projects/relay && npx tsc --noEmit -p apps/web/tsconfig.json 2>&1 | head -20` to confirm no type errors.
  </verify>
  <done>
NavLink component exists at `apps/web/components/nav-link.tsx`. It renders a Link with a blue bottom border when the current pathname matches the href. Home uses exact match, all other routes use prefix match.
  </done>
</task>

</tasks>

<verification>
- `apps/web/components/nav-link.tsx` exports `NavLink`.
- Component uses `usePathname()` from `next/navigation`.
- Active state applies `border-blue-500 text-blue-600`.
- TypeScript compiles without errors.
</verification>

<success_criteria>
NavLink component provides a reusable active-page indicator for the navigation bar. It correctly distinguishes the Home route (exact match) from other routes (prefix match).
</success_criteria>

<output>
After completion, create `.planning/phases/30-branding-navigation/30-02-SUMMARY.md`
</output>
